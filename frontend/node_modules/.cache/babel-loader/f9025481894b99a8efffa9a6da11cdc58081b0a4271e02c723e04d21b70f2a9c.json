{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, TransitionGroup as _TransitionGroup, withCtx as _withCtx, vModelText as _vModelText } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"space-y-6\"\n};\nvar _hoisted_2 = {\n  \"class\": \"bg-white rounded-2xl shadow-md p-6\"\n};\nvar _hoisted_3 = {\n  \"class\": \"flex items-center gap-3\"\n};\nvar _hoisted_4 = [\"onUpdate:modelValue\", \"onChange\"];\nvar _hoisted_5 = {\n  \"class\": \"space-x-3\"\n};\nvar _hoisted_6 = [\"onClick\"];\nvar _hoisted_7 = [\"onClick\"];\nvar _hoisted_8 = {\n  key: 0,\n  \"class\": \"text-gray-400 text-center mt-4\"\n};\nvar _hoisted_9 = {\n  key: 0,\n  \"class\": \"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n};\nvar _hoisted_10 = {\n  \"class\": \"bg-white rounded-2xl shadow-lg w-full max-w-md p-6 animate-fade-in\"\n};\nvar _hoisted_11 = {\n  \"class\": \"flex justify-end space-x-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Título \"), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    \"class\": \"flex items-center justify-between\"\n  }, [_createElementVNode(\"h2\", {\n    \"class\": \"text-3xl font-bold text-primary\"\n  }, \"Panel de Tareas\")], -1 /* CACHED */)), _createCommentVNode(\" Formulario \"), _createVNode($setup[\"TaskForm\"], {\n    onCreated: $setup.crear\n  }), _createCommentVNode(\" Lista \"), _createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h3\", {\n    \"class\": \"text-xl font-semibold mb-4\"\n  }, \"Mis Tareas\", -1 /* CACHED */)), _createVNode(_TransitionGroup, {\n    name: \"fade\",\n    tag: \"ul\",\n    \"class\": \"space-y-3\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tasks, function (t) {\n        return _openBlock(), _createElementBlock(\"li\", {\n          key: t.id,\n          \"class\": \"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-3 hover:bg-gray-50 transition\"\n        }, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n            return t.completed = $event;\n          },\n          onChange: function onChange($event) {\n            return $setup.actualizar(t);\n          },\n          \"class\": \"w-5 h-5 accent-primary\"\n        }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_4), [[_vModelCheckbox, t.completed]]), _createElementVNode(\"span\", {\n          \"class\": _normalizeClass(['text-lg', t.completed ? 'line-through text-gray-400' : 'text-gray-800'])\n        }, _toDisplayString(t.title), 3 /* TEXT, CLASS */)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n          onClick: function onClick($event) {\n            return $setup.abrirModal(t);\n          },\n          \"class\": \"text-blue-600 hover:text-blue-800 font-medium transition\"\n        }, \" Editar \", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n          onClick: function onClick($event) {\n            return $setup.confirmarEliminar(t.id);\n          },\n          \"class\": \"text-red-600 hover:text-red-800 font-medium transition\"\n        }, \" Eliminar \", 8 /* PROPS */, _hoisted_7)])]);\n      }), 128 /* KEYED_FRAGMENT */))];\n    }),\n    _: 1 /* STABLE */\n  }), $setup.tasks.length === 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \" Agrega una tarea \")) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Modal de edición \"), $setup.modalAbierto ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[3] || (_cache[3] = _createElementVNode(\"h3\", {\n    \"class\": \"text-xl font-semibold text-primary mb-4\"\n  }, \" Editar tarea \", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.tareaEdit.titulo = $event;\n    }),\n    type: \"text\",\n    placeholder: \"Nuevo título...\",\n    \"class\": \"w-full border rounded-lg p-3 mb-4 focus:ring-2 focus:ring-primary\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.tareaEdit.titulo]]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return $setup.modalAbierto = false;\n    }),\n    \"class\": \"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition\"\n  }, \" Cancelar \"), _createElementVNode(\"button\", {\n    onClick: $setup.guardarEdicion,\n    \"class\": \"px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90 transition\"\n  }, \" Guardar \")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_createVNode","$setup","onCreated","crear","_hoisted_2","_TransitionGroup","name","tag","_Fragment","_renderList","tasks","t","key","id","_hoisted_3","type","completed","$event","onChange","actualizar","_normalizeClass","title","_hoisted_5","onClick","abrirModal","_hoisted_6","confirmarEliminar","_hoisted_7","length","_hoisted_8","modalAbierto","_hoisted_9","_hoisted_10","tareaEdit","titulo","placeholder","_hoisted_11","_cache","guardarEdicion"],"sources":["C:\\Users\\USER\\Desktop\\fullstack-vue-tasks\\frontend\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-6\">\n    <!-- Título -->\n    <div class=\"flex items-center justify-between\">\n      <h2 class=\"text-3xl font-bold text-primary\">Panel de Tareas</h2>\n    </div>\n\n    <!-- Formulario -->\n    <TaskForm @created=\"crear\" />\n\n    <!-- Lista -->\n    <div class=\"bg-white rounded-2xl shadow-md p-6\">\n      <h3 class=\"text-xl font-semibold mb-4\">Mis Tareas</h3>\n      <transition-group name=\"fade\" tag=\"ul\" class=\"space-y-3\">\n        <li\n          v-for=\"t in tasks\"\n          :key=\"t.id\"\n          class=\"flex justify-between items-center border border-gray-200 rounded-xl px-4 py-3 hover:bg-gray-50 transition\"\n        >\n          <div class=\"flex items-center gap-3\">\n            <input\n              type=\"checkbox\"\n              v-model=\"t.completed\"\n              @change=\"actualizar(t)\"\n              class=\"w-5 h-5 accent-primary\"\n            />\n            <span\n              :class=\"[\n                'text-lg',\n                t.completed ? 'line-through text-gray-400' : 'text-gray-800',\n              ]\"\n            >\n              {{ t.title }}\n            </span>\n          </div>\n\n          <div class=\"space-x-3\">\n            <button\n              @click=\"abrirModal(t)\"\n              class=\"text-blue-600 hover:text-blue-800 font-medium transition\"\n            >\n              Editar\n            </button>\n            <button\n              @click=\"confirmarEliminar(t.id)\"\n              class=\"text-red-600 hover:text-red-800 font-medium transition\"\n            >\n              Eliminar\n            </button>\n          </div>\n        </li>\n      </transition-group>\n\n      <p v-if=\"tasks.length === 0\" class=\"text-gray-400 text-center mt-4\">\n        Agrega una tarea\n      </p>\n    </div>\n\n    <!-- Modal de edición -->\n    <div\n      v-if=\"modalAbierto\"\n      class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n    >\n      <div\n        class=\"bg-white rounded-2xl shadow-lg w-full max-w-md p-6 animate-fade-in\"\n      >\n        <h3 class=\"text-xl font-semibold text-primary mb-4\">\n          Editar tarea\n        </h3>\n        <input\n          v-model=\"tareaEdit.titulo\"\n          type=\"text\"\n          placeholder=\"Nuevo título...\"\n          class=\"w-full border rounded-lg p-3 mb-4 focus:ring-2 focus:ring-primary\"\n        />\n        <div class=\"flex justify-end space-x-3\">\n          <button\n            @click=\"modalAbierto = false\"\n            class=\"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition\"\n          >\n            Cancelar\n          </button>\n          <button\n            @click=\"guardarEdicion\"\n            class=\"px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90 transition\"\n          >\n            Guardar\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport TaskForm from \"@/components/TaskForm.vue\";\nimport api from \"@/services/api\";\nimport { logout } from \"@/stores/auth\";\nimport { useRouter } from \"vue-router\";\n\nconst tasks = ref([]);\nconst router = useRouter();\n\n// Modal\nconst modalAbierto = ref(false);\nconst tareaEdit = ref({ id: null, titulo: \"\" });\n\n// Funciones principales\nasync function cargar() {\n  const { data } = await api.get(\"/tasks\");\n  tasks.value = data;\n}\n\nasync function crear(payload) {\n  const { data } = await api.post(\"/tasks\", payload);\n  tasks.value.unshift(data);\n}\n\nasync function actualizar(payload) {\n  await api.put(`/tasks/${payload.id}`, payload);\n}\n\nasync function confirmarEliminar(id) {\n  if (confirm(\"¿Seguro que deseas eliminar esta tarea?\")) {\n    await api.delete(`/tasks/${id}`);\n    tasks.value = tasks.value.filter((t) => t.id !== id);\n  }\n}\n\n// Modal\nfunction abrirModal(t) {\n  tareaEdit.value = { id: t.id, titulo: t.title };\n  modalAbierto.value = true;\n}\n\nasync function guardarEdicion() {\n  if (!tareaEdit.value.titulo.trim()) return alert(\"El título no puede estar vacío\");\n  const { data } = await api.put(`/tasks/${tareaEdit.value.id}`, {\n    title: tareaEdit.value.titulo,\n  });\n  const i = tasks.value.findIndex((t) => t.id === data.id);\n  if (i !== -1) tasks.value[i] = data;\n  modalAbierto.value = false;\n}\n\nfunction salir() {\n  logout();\n  router.push(\"/login\");\n}\n\nonMounted(cargar);\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.3s ease;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n  transform: translateY(5px);\n}\n\n.animate-fade-in {\n  animation: fadeIn 0.3s ease forwards;\n}\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n</style>\n"],"mappings":";;EACO,SAAM;AAAW;;EAUf,SAAM;AAAoC;;EAQpC,SAAM;AAAyB;;;EAiB/B,SAAM;AAAW;;;;;EAiBG,SAAM;;;;EAQnC,SAAM;;;EAGJ,SAAM;AAAoE;;EAWrE,SAAM;AAA4B;;uBA1E7CA,mBAAA,CA0FM,OA1FNC,UA0FM,GAzFJC,mBAAA,YAAe,E,0BACfC,mBAAA,CAEM;IAFD,SAAM;EAAmC,IAC5CA,mBAAA,CAAgE;IAA5D,SAAM;EAAiC,GAAC,iBAAe,E,qBAG7DD,mBAAA,gBAAmB,EACnBE,YAAA,CAA6BC,MAAA;IAAlBC,SAAO,EAAED,MAAA,CAAAE;EAAK,IAEzBL,mBAAA,WAAc,EACdC,mBAAA,CA6CM,OA7CNK,UA6CM,G,0BA5CJL,mBAAA,CAAsD;IAAlD,SAAM;EAA4B,GAAC,YAAU,qBACjDC,YAAA,CAsCmBK,gBAAA;IAtCDC,IAAI,EAAC,MAAM;IAACC,GAAG,EAAC,IAAI;IAAC,SAAM;;wBAEzC;MAAA,OAAkB,E,kBADpBX,mBAAA,CAoCKY,SAAA,QAAAC,WAAA,CAnCSR,MAAA,CAAAS,KAAK,YAAVC,CAAC;6BADVf,mBAAA,CAoCK;UAlCFgB,GAAG,EAAED,CAAC,CAACE,EAAE;UACV,SAAM;YAENd,mBAAA,CAeM,OAfNe,UAeM,G,gBAdJf,mBAAA,CAKE;UAJAgB,IAAI,EAAC,UAAU;;mBACNJ,CAAC,CAACK,SAAS,GAAAC,MAAA;UAAA;UACnBC,QAAM,WAANA,QAAMA,CAAAD,MAAA;YAAA,OAAEhB,MAAA,CAAAkB,UAAU,CAACR,CAAC;UAAA;UACrB,SAAM;iFAFGA,CAAC,CAACK,SAAS,E,GAItBjB,mBAAA,CAOO;UANJ,SAAKqB,eAAA,E,WAA+CT,CAAC,CAACK,SAAS,kD;4BAK7DL,CAAC,CAACU,KAAK,wB,GAIdtB,mBAAA,CAaM,OAbNuB,UAaM,GAZJvB,mBAAA,CAKS;UAJNwB,OAAK,WAALA,OAAKA,CAAAN,MAAA;YAAA,OAAEhB,MAAA,CAAAuB,UAAU,CAACb,CAAC;UAAA;UACpB,SAAM;WACP,UAED,iBAAAc,UAAA,GACA1B,mBAAA,CAKS;UAJNwB,OAAK,WAALA,OAAKA,CAAAN,MAAA;YAAA,OAAEhB,MAAA,CAAAyB,iBAAiB,CAACf,CAAC,CAACE,EAAE;UAAA;UAC9B,SAAM;WACP,YAED,iBAAAc,UAAA,E;;;;MAKG1B,MAAA,CAAAS,KAAK,CAACkB,MAAM,U,cAArBhC,mBAAA,CAEI,KAFJiC,UAEI,EAFgE,oBAEpE,K,qCAGF/B,mBAAA,sBAAyB,EAEjBG,MAAA,CAAA6B,YAAY,I,cADpBlC,mBAAA,CA+BM,OA/BNmC,UA+BM,GA3BJhC,mBAAA,CA0BM,OA1BNiC,WA0BM,G,0BAvBJjC,mBAAA,CAEK;IAFD,SAAM;EAAyC,GAAC,gBAEpD,qB,gBACAA,mBAAA,CAKE;;aAJSE,MAAA,CAAAgC,SAAS,CAACC,MAAM,GAAAjB,MAAA;IAAA;IACzBF,IAAI,EAAC,MAAM;IACXoB,WAAW,EAAC,iBAAiB;IAC7B,SAAM;iDAHGlC,MAAA,CAAAgC,SAAS,CAACC,MAAM,E,GAK3BnC,mBAAA,CAaM,OAbNqC,WAaM,GAZJrC,mBAAA,CAKS;IAJNwB,OAAK,EAAAc,MAAA,QAAAA,MAAA,gBAAApB,MAAA;MAAA,OAAEhB,MAAA,CAAA6B,YAAY;IAAA;IACpB,SAAM;KACP,YAED,GACA/B,mBAAA,CAKS;IAJNwB,OAAK,EAAEtB,MAAA,CAAAqC,cAAc;IACtB,SAAM;KACP,WAED,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}