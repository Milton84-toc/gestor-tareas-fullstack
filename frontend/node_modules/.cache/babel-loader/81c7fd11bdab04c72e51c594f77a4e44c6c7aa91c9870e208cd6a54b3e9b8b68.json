{"ast":null,"code":"import _regenerator from \"C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { ref, onMounted } from \"vue\";\nimport TaskForm from \"@/components/TaskForm.vue\";\nimport TaskList from \"@/components/TaskList.vue\";\nimport api from \"@/services/api\";\nimport { logout } from \"@/stores/auth\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  __name: 'DashboardView',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var tasks = ref([]);\n    var router = useRouter();\n    function cargar() {\n      return _cargar.apply(this, arguments);\n    }\n    function _cargar() {\n      _cargar = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var _yield$api$get, data;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _context.n = 1;\n              return api.get(\"/tasks\");\n            case 1:\n              _yield$api$get = _context.v;\n              data = _yield$api$get.data;\n              tasks.value = data;\n            case 2:\n              return _context.a(2);\n          }\n        }, _callee);\n      }));\n      return _cargar.apply(this, arguments);\n    }\n    function crear(_x) {\n      return _crear.apply(this, arguments);\n    }\n    function _crear() {\n      _crear = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(payload) {\n        var _yield$api$post, data;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _context2.n = 1;\n              return api.post(\"/tasks\", payload);\n            case 1:\n              _yield$api$post = _context2.v;\n              data = _yield$api$post.data;\n              tasks.value.unshift(data);\n            case 2:\n              return _context2.a(2);\n          }\n        }, _callee2);\n      }));\n      return _crear.apply(this, arguments);\n    }\n    function actualizar(_x2) {\n      return _actualizar.apply(this, arguments);\n    }\n    function _actualizar() {\n      _actualizar = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(payload) {\n        var _yield$api$put, data, i;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              _context3.n = 1;\n              return api.put(\"/tasks/\".concat(payload.id), payload);\n            case 1:\n              _yield$api$put = _context3.v;\n              data = _yield$api$put.data;\n              i = tasks.value.findIndex(function (t) {\n                return t.id === data.id;\n              });\n              if (i !== -1) tasks.value[i] = data;\n            case 2:\n              return _context3.a(2);\n          }\n        }, _callee3);\n      }));\n      return _actualizar.apply(this, arguments);\n    }\n    function eliminar(_x3) {\n      return _eliminar.apply(this, arguments);\n    }\n    function _eliminar() {\n      _eliminar = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(id) {\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              _context4.n = 1;\n              return api[\"delete\"](\"/tasks/\".concat(id));\n            case 1:\n              tasks.value = tasks.value.filter(function (t) {\n                return t.id !== id;\n              });\n            case 2:\n              return _context4.a(2);\n          }\n        }, _callee4);\n      }));\n      return _eliminar.apply(this, arguments);\n    }\n    function salir() {\n      logout();\n      router.push(\"/login\");\n    }\n    onMounted(cargar);\n    var __returned__ = {\n      tasks: tasks,\n      router: router,\n      cargar: cargar,\n      crear: crear,\n      actualizar: actualizar,\n      eliminar: eliminar,\n      salir: salir,\n      ref: ref,\n      onMounted: onMounted,\n      TaskForm: TaskForm,\n      TaskList: TaskList,\n      get api() {\n        return api;\n      },\n      get logout() {\n        return logout;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","TaskForm","TaskList","api","logout","useRouter","tasks","router","cargar","_cargar","apply","arguments","_asyncToGenerator","_regenerator","m","_callee","_yield$api$get","data","w","_context","n","get","v","value","a","crear","_x","_crear","_callee2","payload","_yield$api$post","_context2","post","unshift","actualizar","_x2","_actualizar","_callee3","_yield$api$put","i","_context3","put","concat","id","findIndex","t","eliminar","_x3","_eliminar","_callee4","_context4","filter","salir","push"],"sources":["C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/src/views/DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-4\">\n    <div class=\"flex items-center justify-between\">\n      <h2 class=\"text-2xl font-bold\">Dashboard</h2>\n    </div>\n    <TaskForm @created=\"crear\" />\n    <TaskList :tasks=\"tasks\" @update=\"actualizar\" @remove=\"eliminar\" />\n  </div>\n</template>\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport TaskForm from \"@/components/TaskForm.vue\";\nimport TaskList from \"@/components/TaskList.vue\";\nimport api from \"@/services/api\";\nimport { logout } from \"@/stores/auth\";\nimport { useRouter } from \"vue-router\";\nconst tasks = ref([]);\nconst router = useRouter();\nasync function cargar() { const { data } = await api.get(\"/tasks\"); tasks.value = data; }\nasync function crear(payload) { const { data } = await api.post(\"/tasks\", payload); tasks.value.unshift(data); }\nasync function actualizar(payload) { const { data } = await api.put(`/tasks/${payload.id}`, payload); const i = tasks.value.findIndex(t => t.id === data.id); if (i !== -1) tasks.value[i] = data; }\nasync function eliminar(id) { await api.delete(`/tasks/${id}`); tasks.value = tasks.value.filter(t => t.id !== id); }\nfunction salir() { logout(); router.push(\"/login\"); }\nonMounted(cargar);\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}