{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref, watch } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { isAuthenticated, logout } from \"@/stores/auth\";\nexport default {\n  __name: 'App',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var router = useRouter();\n    var route = useRoute();\n    var auth = ref(isAuthenticated());\n\n    // Detectar cambios de ruta o autenticación\n    watch(route, function () {\n      auth.value = isAuthenticated();\n    });\n\n    // Cerrar sesión\n    function cerrarSesion() {\n      logout();\n      auth.value = false;\n      router.push(\"/login\");\n    }\n    var __returned__ = {\n      router: router,\n      route: route,\n      auth: auth,\n      cerrarSesion: cerrarSesion,\n      ref: ref,\n      watch: watch,\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get isAuthenticated() {\n        return isAuthenticated;\n      },\n      get logout() {\n        return logout;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","useRouter","useRoute","isAuthenticated","logout","router","route","auth","value","cerrarSesion","push"],"sources":["C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen\">\n    <!-- Navbar solo visible si el usuario está autenticado -->\n    <header v-if=\"auth\" class=\"bg-white shadow\">\n      <div class=\"mx-auto max-w-5xl px-4 py-4 flex items-center justify-between\">\n        <h1 class=\"text-xl md:text-2xl font-bold text-primary\">Gestor de Tareas</h1>\n        <button\n          @click=\"cerrarSesion\"\n          class=\"text-red-600 hover:underline\"\n        >\n          Cerrar sesión\n        </button>\n      </div>\n    </header>\n\n    <!-- Contenido principal -->\n    <main class=\"mx-auto max-w-5xl p-4\">\n      <RouterView />\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { isAuthenticated, logout } from \"@/stores/auth\";\n\nconst router = useRouter();\nconst route = useRoute();\nconst auth = ref(isAuthenticated());\n\n// Detectar cambios de ruta o autenticación\nwatch(route, () => {\n  auth.value = isAuthenticated();\n});\n\n// Cerrar sesión\nfunction cerrarSesion() {\n  logout();\n  auth.value = false;\n  router.push(\"/login\");\n}\n</script>\n\n<style scoped>\nheader {\n  transition: all 0.3s ease;\n}\n</style>\n"],"mappings":";;AAuBA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAK;AAChC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;AAChD,SAASC,eAAe,EAAEC,MAAM,QAAQ,eAAe;;;;;;IAEvD,IAAMC,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAC1B,IAAMK,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,IAAMK,IAAI,GAAGR,GAAG,CAACI,eAAe,CAAC,CAAC,CAAC;;IAEnC;IACAH,KAAK,CAACM,KAAK,EAAE,YAAM;MACjBC,IAAI,CAACC,KAAK,GAAGL,eAAe,CAAC,CAAC;IAChC,CAAC,CAAC;;IAEF;IACA,SAASM,YAAYA,CAAA,EAAG;MACtBL,MAAM,CAAC,CAAC;MACRG,IAAI,CAACC,KAAK,GAAG,KAAK;MAClBH,MAAM,CAACK,IAAI,CAAC,QAAQ,CAAC;IACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}