{"ast":null,"code":"import _regenerator from \"C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport api from \"@/services/api\";\nexport function isAuthenticated() {\n  return !!localStorage.getItem(\"token\");\n}\nexport function login(_x, _x2) {\n  return _login.apply(this, arguments);\n}\nfunction _login() {\n  _login = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(email, password) {\n    var _yield$api$post, data;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          _context.n = 1;\n          return api.post(\"/auth/login\", {\n            email: email,\n            password: password\n          });\n        case 1:\n          _yield$api$post = _context.v;\n          data = _yield$api$post.data;\n          localStorage.setItem(\"token\", data.token);\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\n          return _context.a(2, data.user);\n      }\n    }, _callee);\n  }));\n  return _login.apply(this, arguments);\n}\nexport function register(_x3, _x4, _x5) {\n  return _register.apply(this, arguments);\n}\nfunction _register() {\n  _register = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(name, email, password) {\n    var _yield$api$post2, data;\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          _context2.n = 1;\n          return api.post(\"/auth/register\", {\n            name: name,\n            email: email,\n            password: password\n          });\n        case 1:\n          _yield$api$post2 = _context2.v;\n          data = _yield$api$post2.data;\n          return _context2.a(2, data);\n      }\n    }, _callee2);\n  }));\n  return _register.apply(this, arguments);\n}\nexport function me() {\n  return _me.apply(this, arguments);\n}\nfunction _me() {\n  _me = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n    var _yield$api$get, data;\n    return _regenerator().w(function (_context3) {\n      while (1) switch (_context3.n) {\n        case 0:\n          _context3.n = 1;\n          return api.get(\"/auth/me\");\n        case 1:\n          _yield$api$get = _context3.v;\n          data = _yield$api$get.data;\n          return _context3.a(2, data);\n      }\n    }, _callee3);\n  }));\n  return _me.apply(this, arguments);\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n}","map":{"version":3,"names":["api","isAuthenticated","localStorage","getItem","login","_x","_x2","_login","apply","arguments","_asyncToGenerator","_regenerator","m","_callee","email","password","_yield$api$post","data","w","_context","n","post","v","setItem","token","JSON","stringify","user","a","register","_x3","_x4","_x5","_register","_callee2","name","_yield$api$post2","_context2","me","_me","_callee3","_yield$api$get","_context3","get","logout","removeItem"],"sources":["C:/Users/USER/Desktop/fullstack-vue-tasks/frontend/src/stores/auth.js"],"sourcesContent":["import api from \"@/services/api\";\n\nexport function isAuthenticated() {\n  return !!localStorage.getItem(\"token\");\n}\n\nexport async function login(email, password) {\n  const { data } = await api.post(\"/auth/login\", { email, password });\n  localStorage.setItem(\"token\", data.token);\n  localStorage.setItem(\"user\", JSON.stringify(data.user));\n  return data.user;\n}\n\nexport async function register(name, email, password) {\n  const { data } = await api.post(\"/auth/register\", { name, email, password });\n  return data;\n}\n\nexport async function me() {\n  const { data } = await api.get(\"/auth/me\");\n  return data;\n}\n\nexport function logout() {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}